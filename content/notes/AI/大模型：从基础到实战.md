---
title: 大模型：从基础到实战
date: 2025-07-02
details: 
---

# 大模型：从基础到实战

## 1_从人工智能到大模型

### 人工智能与大模型发展史

见[深度学习原理与PyTorch实战](https://ceciliaguo331.github.io/docs/content/note/%E5%A4%A7%E6%A8%A1%E5%9E%8B%EF%BC%9A%E4%BB%8E%E5%9F%BA%E7%A1%80%E5%88%B0%E5%AE%9E%E6%88%98/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%8E%9F%E7%90%86%E4%B8%8EPyTorch%E5%AE%9E%E6%88%98.html)

### 大模型科学探索

1. 维数灾难？

    - “维数灾难”：传统计算理论认为，高维空间计算复杂度会指数增长，计算时间会随参数量的增加而指数攀升（NP问题），习惯于降维。

    - “维数福音”：深度神经网络表现出不同的性质：训练时间仅与参数数量呈线性增长。一些困难的问题反而会随着空间维度的增加而变得更容易解决。

    - 与传统方法相比，机器学习解决的最基本的问题就是函数的表达和逼近。数学上有分片多项式、傅利叶级数、小波这都是传统的表达函数的套路，只能处理低维问题。深度学习解决的许多问题都是非常高维的，正确的方法应该是看一个高维函数是否能被一个特定的像神经网络这样的模型来有效地逼近。

2. 陷入局部最小？

    - 事实：神经网络模型能够高效地寻找到解决方案，并实现良好的泛化

    - 可能原因：

        - 高维空间坑少，鞍点多，落入全局最小并不难

        - 高维空间存在大量“准最优解”

3. 参数多过拟合？

    - 按照经典统计学的预测，当网络参数规模足够大时，训练误差最终会接近于零，而测试误差会因模型过拟合而开始上升。

    - 但大模型实践表明，在更大规模的网络模型中，测试误差会出现拐点并继续下降，展现出优秀的泛化能力，与过拟合恰恰相反。

## 3_数据处理与数据集
### 背景介绍
#### Data-Centric AI
AI system = Code + Data
- Scaling 数据 or 参数
    - 模型参数N，训练数据集大小D，算力消耗C
        - 性能主要与模型大小相关，而与模型结构弱相关
        - 性能与上面三个因素有比较贴合的power-law关系
        - 模型参数N和训练数据集大小D应该匹配
        - log-linear定律
            - 模型参数N指数增长时，性能线性增长
            - 训练数据集大小D同理
- 关注点开始转变为改进数据规模和质量
#### 数据开源
- 知名开源数据集
    - Common Crawl，网页
    - LAION，图文对，多模态
    - CC，开源可获取的最大来源
    - CCI，中文
#### 预训练数据集基础
- 大模型数据主要使用的是开源的互联网数据，对数据处理提出新的挑战。
- 数据集 -> 模型训练 -> 效果提升
- 数据来源
    - 通用文本（网页，对话，电子书）
    - 专用文本（代码，科学类数据）
- 数据处理流程
    - 过滤：质量（语言、关键词、模型）、隐私数据去除
    - 去重：句子级、文档级、集合级
    - 分词：tokenizer训练
- 核心因素
    - 混合比例
    - 数据量
    - 数据质量
### 预训练数据技术演进
#### 基于规则的处理
从common crawl数据集中制定规则来进行大规模过滤。
- 主要数据处理技术
    - 网页处理技术：网页正文提取，过滤规则，NSFW网页list
    - 去重技术：精确字符子串和minHash等
- 数据处理规则多为启发式，需要大量人工投入。
- 模型训练验证基本上都会符合chinchilla scaling law.
#### 基于模型的处理
利用训练好的模型来进行过滤。
- 教育分数 "textbook is all you need"
    - 过滤会有偏置
- DCLM
    - DCLM(DataComp for Language Models)：前沿的研究思想，通过科学的、以模型为中心的实验来精炼和优化训练数据，从而高效地构建更强大的AI。 强调数据质量在模型开发中的核心地位。
    - 基于模型的过滤本质是数据分布的调整，但是数据规模和质量会互相有制约。
#### 合成数据集
- 中低质量数据通过**改造现有数据**提升质量
    - 预训练改造成Instruction格式，可以提升模型下游效果，提升模型训练效率。
- 通过**合成新的数据**解决某些领域数据稀缺
    - 合成textbook
### 文本指令到多模态指令
#### 指令数据技术演进
- 人工编写
- 数据蒸馏：利用训练好的大模型来合成指令数据。
    - system prompt
- 自改进：利用微调后的模型来合成数据。
    - 基于有没有标准答案来分类
        - 有标准答案 Rule-based Reward
        - 没有标准答案 Reward Model
    - 要问出合适的问题（难度，主题）
    - 一般通过蒸馏大模型来获得比较高质量的答案
#### 多模态数据集
- 预训练数据 LAION
- 视频指令数据 InternVid
- 综合指令集 Cambrain-1
- 多模态数据集 oneVision
- 合成指令数据 Florence-2
#### 具身Motion类数据
- 人称
- 3D重建/空间感知