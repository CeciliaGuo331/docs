---
title: 数据类型与运算符
date: 2025-08-14
details: 数据类型与运算符
---

# 数据类型与运算符

## 1. 数据类型 (Data Types)
C++ 是一种静态类型语言，它提供了丰富的类型系统，让你能够精确地控制内存和数据表示。这与 Python 的动态类型非常不同，但与 C 语言一脉相承，并有所增强。

### 1.1 基本内置类型 (Fundamental Built-in Types)

这些是 C++ 语言的核心“积木”。

#### 整型 (Integer Types)
| 类型 (Type) | 典型大小 | 典型范围/说明 |
| :--- | :--- | :--- |
| `bool` | 1 字节 | `true` 或 `false`，表示逻辑值。 |
| `char` | 1 字节 | -128 到 127 或 0 到 255。用于表示单个字符（如 'a'）或小整数。 |
| `unsigned char` | 1 字节 | 0 到 255。 |
| `short` | 2 字节 | -32,768 到 32,767。短整型。 |
| `unsigned short` | 2 字节 | 0 到 65,535。 |
| `int` | 4 字节 | -2,147,483,648 到 2,147,483,647。最常用的整数类型。 |
| `unsigned int` | 4 字节 | 0 到 4,294,967,295。 |
| `long` | 4 或 8 字节 | 范围至少和 `int` 一样大。 |
| `unsigned long` | 4 或 8 字节 | |
| `long long` | 8 字节 | 范围非常大的整数（C++11 引入）。 |
| `unsigned long long` | 8 字节 | |
| `<cstdint>` 中的类型 | 固定 | 如 `int8_t`, `int32_t`, `uint64_t`。提供固定大小的整数，可移植性好。 |

#### 浮点型 (Floating-Point Types)
| 类型 (Type) | 典型大小 | 精度/说明 |
| :--- | :--- | :--- |
| `float` | 4 字节 | 单精度浮点数，约 7 位有效数字。 |
| `double` | 8 字节 | 双精度浮点数，约 15 位有效数字。最常用的浮点类型。 |
| `long double`| 12 或 16 字节| 扩展精度浮点数。 |

#### 特殊类型
| 类型 (Type) | 说明 |
| :--- | :--- |
| `void` | 表示“无类型”，主要用于函数返回值（表示不返回任何值）和 `void*`（通用指针）。 |
| `std::nullptr_t`| `nullptr` 的类型（C++11 引入），用于替代 C 风格的 `NULL`，类型更安全。|

### 1.2 复合类型 (Compound Types)

这些是由基本类型组合而成的类型。

| 类型 (Type) | 示例 | 说明 |
| :--- | :--- | :--- |
| **指针 (Pointer)** | `int* ptr;` | 存储一个内存地址。这是你从 C 语言已经很熟悉的概念。 |
| **引用 (Reference)** | `int& ref = var;`| 一个已存在变量的**别名**。它必须在声明时初始化，且之后不能再引用其他变量。这是 C++ 的重要特性。 |
| **数组 (Array)** | `int arr[10];` | 固定大小的、同类型元素的连续集合。 |

### 1.3 用户自定义与标准库类型 (User-Defined & Library Types)

| 类型 (Type) | 示例 | 说明 |
| :--- | :--- | :--- |
| **类 (Class/Struct)** | `class Pet { ... };` | 你已经非常熟悉了，用于封装数据和行为。 |
| **联合体 (Union)** | `union Data { int i; float f; };`| 所有成员共享同一块内存空间。 |
| **枚举 (Enum)** | `enum Color { RED, GREEN, BLUE };`| 定义一组命名的整数常量。C++11 引入了作用域更安全的 `enum class`。 |
| **标准库类型** | `std::string`, `std::vector`| C++ 标准库提供的强大类型，极大地简化了编程。 |

## 2. 运算符 (Operators)
C++ 提供了非常丰富的运算符。

### 2.1 算术运算符
| 运算符 | 名称 | 示例 |
| :--- | :--- | :--- |
| `+` | 加 | `a + b` |
| `-` | 减 / 负号 | `a - b` / `-a` |
| `*` | 乘 | `a * b` |
| `/` | 除 | `a / b` (整数相除结果为整数) |
| `%` | 取模 (取余数) | `a % b` |
| `++` | 自增 | `a++` (后增), `++a` (前增) |
| `--` | 自减 | `a--` (后减), `--a` (前减) |

### 2.2 关系运算符
| 运算符 | 名称 | 示例 |
| :--- | :--- | :--- |
| `==` | 等于 | `a == b` |
| `!=` | 不等于 | `a != b` |
| `>` | 大于 | `a > b` |
| `<` | 小于 | `a < b` |
| `>=` | 大于等于 | `a >= b` |
| `<=` | 小于等于 | `a <= b` |

### 2.3 逻辑运算符
| 运算符 | 名称 | 示例 | 说明 |
| :--- | :--- | :--- | :--- |
| `&&` | 逻辑与 (AND) | `a && b` | 具有“短路”特性。 |
| `||` | 逻辑或 (OR) | `a || b` | 具有“短路”特性。 |
| `!` | 逻辑非 (NOT) | `!a` | |

### 2.4 位运算符
| 运算符 | 名称 | 示例 |
| :--- | :--- | :--- |
| `&` | 按位与 | `a & b` |
| `|` | 按位或 | `a | b` |
| `^` | 按位异或 | `a ^ b` |
| `~` | 按位取反 | `~a` |
| `<<` | 左移 | `a << 2` |
| `>>` | 右移 | `a >> 2` |

### 2.5 赋值运算符
| 运算符 | 示例 | 等价于 |
| :--- | :--- | :--- |
| `=` | `a = b` | |
| `+=` | `a += b` | `a = a + b` |
| `-=` | `a -= b` | `a = a - b` |
| `*=` | `a *= b` | `a = a * b` |
| `/=` | `a /= b` | `a = a / b` |
| `%=` | `a %= b` | `a = a % b` |

### 2.6 成员访问与指针运算符
| 运算符 | 名称 | 示例 |
| :--- | :--- | :--- |
| `.` | 成员访问 | `myObject.member` |
| `->` | 指针成员访问 | `ptr->member` (等价于 `(*ptr).member`) |
| `&` | 取地址 | `&var` |
| `*` | 解引用 | `*ptr` |
| `[]` | 下标 | `arr[i]` |
| `sizeof` | 大小 | `sizeof(int)` |

### 2.7 其他运算符
| 运算符 | 名称 | 示例 |
| :--- | :--- | :--- |
| `?:` | 三元条件运算符 | `(a > b) ? a : b` |
| `,` | 逗号运算符 | `a = 1, b = 2;` |
| `::` | 作用域解析 | `std::cout` |
| `new`, `delete`| 动态内存分配/释放 | `new int`, `delete ptr` |
| `static_cast`等| 类型转换 | `static_cast<double>(i)` |

## 3. 运算符优先级 (Operator Precedence)

C++ 有一个详细的运算符优先级表，但完整记忆它非常困难也没有必要。

> **黄金法则：** 当你不确定优先级时，**永远使用圆括号 `()`** 来明确你的意图。

例如，`a + b * c` 中 `*` 的优先级高于 `+`，但 `(a + b) * c` 会强制先计算 `+`。使用括号能让代码更清晰，也能避免难以察觉的错误。

